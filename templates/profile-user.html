{% extends "base.html" %}

{% block title %}Profile Setting{% endblock %}

{% block content %}
<!-- Informasi Profil -->
<div class="bg-white rounded-lg shadow p-6" data-aos="fade-up">
  <h2 class="text-xl font-bold text-gray-800 mb-6">
    <i class="fas fa-user-circle mr-2"></i>Informasi Profil
  </h2>

      <!-- {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="mb-4 p-4 rounded-md {% if category == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %} -->
  
  <div class="flex flex-col md:flex-row gap-6">
    <!-- Foto Profil -->
    <div class="md:w-1/3 flex flex-col items-center" data-aos="zoom-in">
      <div class="relative mb-4">
        <img
          src="https://via.placeholder.com/150"
          alt="Profile"
          class="w-32 h-32 rounded-full object-cover border-4 border-linkedin-blue"
        />
        <button class="absolute bottom-0 right-0 bg-linkedin-blue text-white rounded-full w-8 h-8 flex items-center justify-center">
          <i class="fas fa-camera text-sm"></i>
        </button>
      </div>
      <button class="text-linkedin-blue text-sm font-medium">
        <i class="fas fa-sync-alt mr-1"></i>Ubah Foto
      </button>
    </div>
    
    <!-- Form Profil -->
    <div class="md:w-2/3" data-aos="fade-left">
      <form method="POST" action="{{ url_for('edit_profile_user', user_id=current_user.id) }}">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
            <input
              type="text"
              name="first_name"
              value="{{ current_user.first_name }}"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
            />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
            <input
              type="text"
              name="last_name"
              value="{{ current_user.last_name }}"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
            />
          </div>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
          <input
            type="email"
            name="email"
            value="{{ current_user.email }}"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
          />
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
          <input
            type="tel"
            name="phone_number"
            value="{{ current_user.phone_number }}"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
          />
        </div>

        <!-- Tanggal Lahir -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Lahir</label>
          <input
            type="date"
            name="birth_date"
            value="{{ current_user.birth_date.strftime('%Y-%m-%d') if current_user.birth_date else '' }}"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
          />
        </div>

        <!-- Gender -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Gender</label>
          <select
            name="gender"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
            value="{{ current_user.gender }}"
          >
            <option value="male" {% if current_user.gender == 'male' %}selected{% endif %}>Male</option>
            <option value="female" {% if current_user.gender == 'female' %}selected{% endif %}>Female</option>
            <option value="other" {% if current_user.gender == 'other' %}selected{% endif %}>Other</option>
          </select>
        </div>

        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
          <textarea
            rows="3"
            name="address"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-linkedin-blue"
          >{{ current_user.address }}</textarea>
        </div>
        
        <div class="flex justify-end">
          <button
            type="submit"
            class="bg-linkedin-blue text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition-colors"
          >
            <i class="fas fa-save mr-1"></i>Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


<style>
  /* Toggle switch styling */
  input[type="checkbox"]:checked + label {
    background-color: #0a66c2;
  }
  
  input[type="checkbox"]:checked + label .dot {
    transform: translateX(1.5rem);
  }
  
  /* Smooth transitions */
  .transition {
    transition: all 0.3s ease;
  }
</style>
{% endblock %}
